CREATE TABLE zxc.user (
  id serial PRIMARY KEY,
  login text,
  pass varchar(16)
);

CREATE TABLE zxc.sensor (
  id serial PRIMARY KEY,
imei numeric NOT NULL,
  device_id numeric NOT NULL,
  user_id int NOT NULL,
  FOREIGN KEY(user_id) REFERENCES zxc.user(id)
);

CREATE TABLE zxc.track (
  id serial PRIMARY KEY,
  date_start timestamp NOT NULL,
  date_stop timestamp NOT NULL,
  serial_id int NOT NULL,
  FOREIGN KEY(serial_id) REFERENCES zxc.sensor(id)
);

CREATE TABLE zxc.geo_data (
  id serial PRIMARY KEY,
  serial_id int NOT NULL,
  latitude numeric,
  longitude numeric,
  height numeric,
  speed numeric,
  date_time numeric,
  course numeric,
  battery_voltage numeric,
  satellite_count numeric,
  sensor_id int,
  FOREIGN KEY (sensor_id) REFERENCES zxc.sensor(id)
);
ALTER TABLE sensor ALTER COLUMN imei TYPE char(15),
ADD UNIQUE(imei);
